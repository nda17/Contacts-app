import{r,u as z,j as e,L as Z}from"./index-97448f9c.js";import{u as F}from"./useLocalStorage-6a15a474.js";const L=()=>{const[p,a]=r.useState(""),[v,d]=r.useState("Enter data:"),[y,N]=F([],"contacts"),[h,C]=r.useState(!1),j=z(),t=r.useRef(null),l=r.useRef(null),o=r.useRef(null),n=r.useRef(null),s=r.useRef(null),c=r.useRef(null),i=()=>new RegExp("^[a-zA-Z][a-zA-Z0-9-]+$").test(t.current.value)?(a(!0),t.current.style.borderColor="#44c47c",!0):(a(!1),t.current.style.borderColor="#eb4034",!1),x=()=>new RegExp("^[a-zA-Z][a-zA-Z0-9-]+$").test(l.current.value)?(a(!0),l.current.style.borderColor="#44c47c",!0):(a(!1),l.current.style.borderColor="#eb4034",!1),f=()=>new RegExp(/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/i).test(o.current.value)?(a(!0),o.current.style.borderColor="#44c47c",!0):(a(!1),o.current.style.borderColor="#eb4034",!1),b=()=>new RegExp(/^\+?[0-9()\- ]{10,20}$/).test(n.current.value)?(a(!0),n.current.style.borderColor="#44c47c",!0):(a(!1),n.current.style.borderColor="#eb4034",!1),m=()=>{s.current.value.length?s.current.style.borderColor="#44c47c":s.current.style.borderColor="grey",c.current.value.length?c.current.style.borderColor="#44c47c":c.current.style.borderColor="grey"},g=()=>{if(i(),x(),f(),b(),i()&&x()&&f()&&b())return!0},w=u=>{N([u,...y])},q=()=>{d("Enter data:"),t.current.value="",t.current.style.borderColor="grey",l.current.value="",l.current.style.borderColor="grey",o.current.value="",o.current.style.borderColor="grey",n.current.value="",n.current.style.borderColor="grey",s.current.value="",s.current.style.borderColor="grey",c.current.value="",c.current.style.borderColor="grey"},E=()=>{C(!0)},R=u=>{if(u.preventDefault(),g()){const A={id:Math.random().toFixed(5).toString().split(".")[1],firstName:t.current.value,lastName:l.current.value,email:o.current.value,phone:n.current.value,company:s.current.value.length?s.current.value:"No data",job:c.current.value.length?c.current.value:"No data"};w(A),q(),E()}else d("Correct mistakes!")};return r.useEffect(()=>{g(),!t.current.value.length&&!l.current.value.length&&!o.current.value.length&&!n.current.value.length&&!p&&d("Enter data:"),(t.current.value.length||l.current.value.length||o.current.value.length||n.current.value.length&&!p)&&d("Correct mistakes!"),t.current.value.length&&l.current.value.length&&o.current.value.length&&n.current.value.length&&p&&d("All data is valid.")},[p]),r.useEffect(()=>{h&&j("/#")},[h]),e.jsxs("form",{className:"w-[262px] flex flex-col items-center mx-auto py-[1rem]",children:[e.jsx("p",{className:"pt-[1rem] font-bold mb-[1rem]",children:v}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{type:"text",ref:t,onChange:i,placeholder:"First name",required:"required",className:"w-[262px] h-[24px] outline-none border-b border-solid border-[grey] pt-[8px] pb-[2px] box-content placeholder:text-purple-300 focus:border-purple-500 focus:placeholder:text-red-500 focus:placeholder:font-bold"}),e.jsx("label",{className:"text-[12px]",children:"required"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{type:"text",ref:l,onChange:x,placeholder:"Last name",required:"required",className:"w-[262px] h-[24px] outline-none border-b border-solid border-[grey] pt-[8px] pb-[2px] box-content placeholder:text-purple-300 focus:border-purple-500 focus:placeholder:text-red-500 focus:placeholder:font-bold"}),e.jsx("label",{className:"text-[12px]",children:"required"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{type:"email",ref:o,onChange:f,placeholder:"Email",required:"required",className:"w-[262px] h-[24px] outline-none border-b border-solid border-[grey] pt-[8px] pb-[2px] box-content placeholder:text-purple-300 focus:border-purple-500 focus:placeholder:text-red-500 focus:placeholder:font-bold"}),e.jsx("label",{className:"text-[12px]",children:"Example: mail@mail.com (required)"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{type:"tel",ref:n,onChange:b,placeholder:"Phone",required:"required",className:"w-[262px] h-[24px] outline-none border-b border-solid border-[grey] pt-[8px] pb-[2px] box-content placeholder:text-purple-300 focus:border-purple-500 focus:placeholder:text-red-500 focus:placeholder:font-bold"}),e.jsx("label",{className:"text-[12px]",children:"digits only (required)"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{type:"text",ref:s,onChange:m,placeholder:"Company",className:"w-[262px] h-[24px] outline-none border-b border-solid border-[grey] pt-[8px] pb-[2px] box-content placeholder:text-purple-300 focus:border-purple-500 focus:placeholder:text-red-500 focus:placeholder:font-bold"}),e.jsx("label",{className:"text-[12px]",children:"Fill this field for company (not required)"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{type:"text",ref:c,onChange:m,placeholder:"Job title",className:"w-[262px] h-[24px] outline-none border-b border-solid border-[grey] pt-[8px] pb-[2px] box-content placeholder:text-purple-300 focus:border-purple-500 focus:placeholder:text-red-500 focus:placeholder:font-bold"}),e.jsx("label",{className:"text-[12px]",children:"Fill this field for job title (not required)"})]}),e.jsxs("div",{className:"flex justify-between w-full pt-[1rem]",children:[e.jsx(Z,{to:"/#",className:"w-[45%] h-[2.4rem] rounded-[0.8rem] bg-tomato py-[0.2rem] px-[0.5rem] text-[#ffffff] drop-shadow-sm hover:bg-red-700 hover:opacity-100 transition-all duration-[0.4s] active:scale-[0.97] flex items-center justify-center",children:"Back"}),e.jsx("button",{className:"w-[45%] h-[2.4rem] rounded-[0.8rem] bg-purple-800 py-[0.2rem] px-[0.5rem] text-[#ffffff] drop-shadow-sm hover:bg-purple-600 hover:opacity-100 transition-all duration-[0.4s] active:scale-[0.97] flex items-center justify-center",onClick:R,children:"Add"})]})]})};export{L as default};
